// Generated by CoffeeScript 1.10.0
var Bookmark;

Bookmark = require('../models/bookmark');

module.exports.all = function(req, res, next) {
  return Bookmark.byName(function(err, results) {
    if (err) {
      return next(err);
    }
    return res.send(200, results);
  });
};

module.exports.create = function(req, res) {
  var data;
  data = req.body;
  return Bookmark.getOrCreate(data, function(err, bookmark) {
    if (err != null) {
      return res.send({
        error: 'Server error while creating bookmark.'
      }, 500);
    } else {
      return res.send(bookmark, 201);
    }
  });
};

module.exports.update = function(req, res) {
  var data;
  data = req.body;
  return req.tag.updateAttributes(data, function(err, bookmark) {
    if (err != null) {
      return res.send({
        error: 'Server error while updating the bookmark.'
      }, 500);
    } else {
      return res.send(bookmark, 200);
    }
  });
};

module.exports["delete"] = function(req, res) {
  console.log(req.body);
  console.log(req.bookmark);
  console.log(req);
  return req.bookmark.destroy(function(err) {
    if (err != null) {
      return res.send({
        error: 'Server error while deleting the bookmark.'
      }, 500);
    } else {
      return res.send({
        success: true
      }, 200);
    }
  });
};
